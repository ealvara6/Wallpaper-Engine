(this["webpackJsonpfrontend-react"]=this["webpackJsonpfrontend-react"]||[]).push([[0],{124:function(e,t,a){},126:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),s=a.n(r),o=(a(124),a(125),a(126),a(2));function i(e){return Object(o.jsx)("h1",{children:"This is the about page"})}var l=a(8),j=a(69),d=a(27),b=a.n(d),u=a(98),O=a.n(u),h=a(97),g=a.n(h),f=a(193),x=a(195),p=a(196),m=a(197),v=a(191),S=a(99),w=a.n(S),C=Object(v.a)((function(e){return{root:{display:"flex",flexwrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:1500},icon:{color:"white"}}}));function k(e){var t=C(),a=Object(n.useState)(Object(j.a)(e.wallpaper)),c=Object(l.a)(a,2),r=c[0],s=c[1],i=600*r.length;return Object(o.jsx)("div",{className:t.root,children:Object(o.jsx)(f.a,{cellHeight:600,className:t.gridList,height:i,cols:6,children:r.map((function(e,a){return Object(o.jsxs)(x.a,{cols:3,children:[Object(o.jsx)("img",{src:e.image,alt:e.name}),Object(o.jsx)(p.a,{title:e.name,actionIcon:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m.a,{className:t.icon,onClick:function(){return function(e,t){if(!localStorage.getItem("loggedIn"))return alert("Please Login or Sign Up to use this feature");console.log(localStorage.getItem("token"));var a={favorites:e._id},n={token:localStorage.getItem("token")};if(e.favorite){b.a.put("/api/user/unfavorite",a,{headers:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response.data)}));var c=Object(j.a)(r);e.favorite=!1,c[t]=e,s(c)}else{b.a.put("/api/user/favorite",a,{headers:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response.data)}));var o=Object(j.a)(r);e.favorite=!0,o[t]=e,s(o)}}(e,a)},children:e.favorite?Object(o.jsx)(g.a,{}):Object(o.jsx)(O.a,{})}),Object(o.jsx)(m.a,{className:t.icon,children:Object(o.jsx)(w.a,{})})]})})]},e.image)}))})})}function y(e){var t=Object(n.useState)({isLoading:!0,data:null}),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){b.a.get("/api/wallpapers").then((function(e){r({isLoading:!1,data:e.data})}))}),[]),Object(o.jsx)(o.Fragment,{children:c.isLoading?Object(o.jsx)("h1",{children:"Loading..."}):Object(o.jsx)(k,{wallpaper:c.data})})}var N=a(16),L=a(158),I=a(100),F=a(210);function E(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(L.a,{onClick:function(e){r(e.currentTarget)},children:"Account"}),Object(o.jsxs)(I.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){r(null)},children:[Object(o.jsx)(F.a,{onClick:function(){window.location.href="/user/profile"},children:"My Account"}),Object(o.jsx)(F.a,{onClick:function(){window.location.href="/user/favorites"},children:"Favorites"}),Object(o.jsx)(F.a,{onClick:function(){localStorage.clear(),window.location.href="/"},children:"Logout"})]})]})}var P=a(55),A=a(56),T=a(204),_=a(207),B=a(49);function W(e){return Object(o.jsx)(_.a,Object(B.a)(Object(B.a)({border:1,borderColor:"#e53935",borderRadius:16},{bgcolor:"#ff8a80",color:"white",m:1,border:1,padding:1}),{},{children:Object(o.jsx)(_.a,{children:e.errors})}))}var q=a(206),U=a(209),M=a(202),R=a(200),G=a(201),H=a(199);function J(e){var t=Object(n.useState)(e.open),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),j=i[0],d=i[1],u=Object(n.useState)(""),O=Object(l.a)(u,2),h=O[0],g=O[1],f=Object(n.useState)(!1),x=Object(l.a)(f,2),p=x[0],m=x[1],v=Object(n.useState)([]),S=Object(l.a)(v,2),w=S[0],C=S[1],k=Object(n.useState)({}),y=Object(l.a)(k,2),N=(y[0],y[1]),I=Object(n.useState)(null),F=Object(l.a)(I,2),E=(F[0],F[1]),P=Object(n.useState)(null),A=Object(l.a)(P,2),T=(A[0],A[1]);function B(){r(!1),m(!1)}return Object(o.jsxs)(_.a,{children:[Object(o.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){r(!0),m(!1)},children:"Login"}),Object(o.jsxs)(U.a,{open:c,onClose:B,"aria-labelledby":"for-dialog-title",children:[Object(o.jsx)(H.a,{id:"form-dialog-title",children:"Login"}),Object(o.jsxs)(R.a,{children:[Object(o.jsxs)(G.a,{children:[p?Object(o.jsx)(W,{errors:w}):null,"Please login to your account."]}),Object(o.jsx)(q.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,onChange:function(e){d(e.target.value)}}),Object(o.jsx)(q.a,{autoFocus:!0,margin:"dense",id:"name",label:"Password",type:"password",fullWidth:!0,onChange:function(e){g(e.target.value)}})]}),Object(o.jsxs)(M.a,{children:[Object(o.jsx)(L.a,{onClick:B,color:"primary",children:"Cancel"}),Object(o.jsx)(L.a,{onClick:function(){var e={email:j,password:h};b.a.post("/api/user/login",e).then((function(e){r(!1),localStorage.setItem("loggedIn",e.data.LoggedIn),localStorage.setItem("token",e.data.token),E(localStorage.getItem("loggedIn")),T(localStorage.getItem("token")),window.location.href="/"})).catch((function(e){if(e.response.data.errors.length>1)var t=e.response.data.errors.map((function(e){return e.msg})).join(" "),a=e.response.data.errors.map((function(e){return e.param})).join(" ");else t=e.response.data.errors.msg,a=e.response.data.errors.param;C(t),N(a),m(!0)}),[])},color:"primary",children:"Login"})]})]})]})}function D(e){var t=e.message;return Object(o.jsx)(_.a,Object(B.a)(Object(B.a)({border:1,borderColor:"success.main",borderRadius:16},{bgcolor:"success.main",color:"white",m:1,border:1,padding:1}),{},{children:Object(o.jsx)(_.a,{children:t})}))}var z=a(203);function K(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),j=i[0],d=i[1],u=Object(n.useState)(""),O=Object(l.a)(u,2),h=O[0],g=O[1],f=Object(n.useState)(""),x=Object(l.a)(f,2),p=x[0],m=x[1],v=Object(n.useState)(""),S=Object(l.a)(v,2),w=S[0],C=S[1],k=Object(n.useState)(!1),y=Object(l.a)(k,2),N=y[0],I=y[1],F=Object(n.useState)([]),E=Object(l.a)(F,2),P=E[0],A=E[1],T=Object(n.useState)([]),B=Object(l.a)(T,2),J=(B[0],B[1]),K=Object(n.useState)(!1),Q=Object(l.a)(K,2),V=Q[0],X=Q[1],Y=Object(n.useState)(""),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1];function te(){r(!1)}return Object(o.jsxs)(_.a,{children:[Object(o.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){r(!0)},children:"Sign Up"}),Object(o.jsxs)(U.a,{open:c,onClose:te,"aria-labelledby":"for-dialog-title",children:[Object(o.jsx)(H.a,{id:"form-dialog-title",children:"Sign Up"}),Object(o.jsxs)("form",{children:[Object(o.jsxs)(R.a,{children:[Object(o.jsx)(G.a,{children:"Create an Account"}),V?Object(o.jsx)(D,{message:$}):null,N?Object(o.jsx)(W,{errors:P}):null,Object(o.jsxs)(z.a,{container:!0,spacing:3,children:[Object(o.jsx)(z.a,{item:!0,xs:6,children:Object(o.jsx)(q.a,{required:!0,autoFocus:!0,margin:"dense",id:"first_name",label:"First Name",type:"text",value:j,onChange:function(e){d(e.target.value)}})}),Object(o.jsx)(z.a,{item:!0,xs:6,children:Object(o.jsx)(q.a,{required:!0,margin:"dense",id:"last_name",label:"Last Name",type:"text",value:h,onChange:function(e){g(e.target.value)}})})]}),Object(o.jsx)(q.a,{required:!0,margin:"dense",id:"email",label:"Email",type:"email",fullWidth:!0,value:p,onChange:function(e){m(e.target.value)}}),Object(o.jsx)(q.a,{required:!0,margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:w,onChange:function(e){C(e.target.value)}})]}),Object(o.jsxs)(M.a,{children:[Object(o.jsx)(L.a,{onClick:te,color:"primary",children:"Cancel"}),Object(o.jsx)(L.a,{onClick:function(){var e={first_name:j,last_name:h,email:p,password:w};b.a.post("/api/users",e).then((function(e){console.log(e),X(!0),I(!1),ee(e.data.message)})).catch((function(e){A(e.response.data.messages),J(e.response.data.fields),I(!0),X(!1)}))},color:"primary",children:"Sign Up"})]})]})]})]})}var Q=Object(v.a)((function(e){return{root:{flexGrow:1,background:"white"}}}));function V(){var e=Q(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),j=(i[0],i[1],Object(n.useState)(!1)),d=Object(l.a)(j,2);d[0],d[1];Object(n.useEffect)((function(){var e=localStorage.getItem("loggedIn");r(e)}),[]);return Object(o.jsx)(_.a,{children:Object(o.jsxs)(P.a,{className:e.root,children:[Object(o.jsx)(P.a.Brand,{href:"home",children:"Wallpaper Engine"}),Object(o.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(o.jsxs)(P.a.Collapse,{id:"basic-navbar-nav",children:[Object(o.jsx)(A.a,{className:"mr-auto",children:Object(o.jsxs)(T.a,{variant:"text",color:"primary",children:[Object(o.jsx)(L.a,{children:Object(o.jsx)(A.a.Link,{href:"/",children:"Home"})}),Object(o.jsx)(L.a,{children:Object(o.jsx)(A.a.Link,{href:"/about",children:"About"})})]})}),Object(o.jsx)(A.a,{className:"ml-auto",children:c?Object(o.jsx)(E,{}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(J,{}),Object(o.jsx)(K,{})]})})]})]})})}var X=a(205),Y=a(198),Z=Object(v.a)((function(e){return{root:{flexGrow:1,marginTop:100,borderStyle:"solid"},grid:{padding:e.spacing(2)},paper:{textAlign:"left",padding:e.spacing(2),marginBottom:e.spacing(2),height:70}}}));function $(e){var t=Object(n.useState)({loading:!0,data:null}),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Z();return Object(n.useEffect)((function(){var e={headers:{token:localStorage.getItem("token")}};b.a.get("/api/user/profile",e).then((function(e){console.log(e.data),r({loading:!1,data:e.data})})).catch((function(e){console.log(e.response)}))}),[]),Object(o.jsx)(X.a,{className:s.root,children:c.loading?Object(o.jsx)("h1",{children:"Loading..."}):Object(o.jsxs)(z.a,{container:!0,className:s.grid,spacing:2,children:[Object(o.jsx)(z.a,{item:!0,xs:6,children:Object(o.jsxs)(Y.a,{className:s.paper,children:["First Name: ",c.data.first_name]})}),Object(o.jsx)(z.a,{item:!0,xs:6,children:Object(o.jsxs)(Y.a,{className:s.paper,children:["Last Name: ",c.data.last_name]})}),Object(o.jsx)(z.a,{item:!0,xs:12,children:Object(o.jsxs)(Y.a,{className:s.paper,children:["Email: ",c.data.email]})}),Object(o.jsx)(z.a,{item:!0,xs:6,children:Object(o.jsxs)(Y.a,{className:s.paper,children:["New Password: ",c.data.password]})}),Object(o.jsx)(z.a,{item:!0,xs:6,children:Object(o.jsx)(Y.a,{className:s.paper,children:"Re-Enter New Password: "})})]})})}function ee(){return Object(o.jsx)("h1",{children:"This is the favorites page"})}var te=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(V,{}),Object(o.jsxs)(N.c,{children:[Object(o.jsx)(N.a,{path:"/about",component:i}),Object(o.jsx)(N.a,{path:"/user/profile",component:$}),Object(o.jsx)(N.a,{path:"/user/favorites",component:ee}),Object(o.jsx)(N.a,{path:"/",component:y})]})]})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,212)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},ne=a(76);s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(ne.a,{children:Object(o.jsx)(te,{})})}),document.getElementById("root")),ae()}},[[155,1,2]]]);
//# sourceMappingURL=main.2d418052.chunk.js.map